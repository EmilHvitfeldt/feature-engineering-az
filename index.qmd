# Preface {.unnumbered}

Welcome to "Feature Engineering A-Z"! This book is written to be used as a reference guide to all feature engineering methods you will encounter. This is reflected in the chapter structure. Any question a practitioner is having should be answered by looking at the index and finding the right chapter.

Each section tries to be as comprehensive as possible with the number of different methods and solutions that are presented. A section on dimensionality reduction should list all the practical methods that could be used, as well as a comparison between the methods to help the reader decide what would be most appropriate. This does not mean that all methods are recommended to use. A number of these methods have little and narrow use cases. Methods that are deemed too domain-specific have been excluded from this book. 

::: {.callout-note}
# Missing methods

If you think this book is missing a method, then please [file an issue](https://github.com/EmilHvitfeldt/feature-engineering-az/issues/new?assignees=&labels=Request:+New+Method&projects=&template=request-new-method.md&title=) and we will evaluate if it should be added.
:::

Each chapter will cover a specific method or small group of methods. This will include motivations and explanations for the method. Whenever possible each method will be accompanied by mathematical formulas and visualizations to illustrate the mechanics of the method. A small pros and cons list is provided for each method. Lastly, each section will include code snippets showcasing how to implement the methods. This is done in R and Python, using [tidymodels](https://tidymodels.org) and [scikit-learn](https://scikit-learn.org/) respectively. This book is a methods book first, and a coding book second.

::: {.callout-note}
# Empty chapters

A chapter is prefixed with the emoji üèóÔ∏è to indicate that it hasn't been fully written yet.
:::

## What does this book not cover?

- Whole process modeling
- deployment details
- domain-specific methods
- case studies

## Who is this book for?

https://smltar.com/preface#who-is-this-book-for
https://aml4td.org/#intended-audience

## License

https://aml4td.org/#license

## Rendering details

```{r}
#| label: language-versions
#| echo: false

quarto_version <- paste0("(", system("quarto --version", intern = TRUE), ")")

python_version <- paste0("(", gsub("Python ", "", system("python3 --version", intern = TRUE)), ")")

r_version <- paste0("(", R.version$major, ".", R.version$minor, ")")
```

This book is rendered using [quarto](https://quarto.org/) `r quarto_version`, [R](https://www.r-project.org/) `r python_version` and [Python](https://www.python.org/) `r_version`. The website source is hosted on [Github](https://github.com/EmilHvitfeldt/feature-engineering-az).

```{r}
#| label: preface-versions
#| include: false

get_pkg_depends <- function() {
  info <- read.dcf("DESCRIPTION")
  pkgs <- strsplit(info[, "Imports"], "\\n")[[1]]
  pkgs <- purrr::map_chr(pkgs, ~ gsub(",", "", .x))
  pkgs <- strsplit(pkgs, " ")
  pkgs <- purrr::map_chr(pkgs, ~ .x[1])
  pkgs
}

make_matrix <- function(x, cols = 3) {
  remainder <- length(x) %% cols
  padding <- cols - remainder
  if (padding > 0) {
    x <- c(x, rep(" ", padding))
  }
  matrix(x, ncol = 3, byrow = TRUE)
}

write_pkg_list <- function() {
  pkgs <- get_pkg_depends()
  excld <- c()
  pkgs <- pkgs[!(pkgs %in% excld)]
  loaded <-
    purrr::map(pkgs,
               ~ try(
                 suppressPackageStartupMessages(
                   library(.x, character.only = TRUE, quietly = TRUE)
                 ),
                 silent = TRUE
               )
    )
  # Write to repo root
  nm <- paste0("session-info-", Sys.info()["user"], "-", Sys.info()["machine"], ".txt")
  # sessioninfo::session_info(to_file = nm)
  # Save for text
  si <-
    sessioninfo::session_info()$packages %>%
    tibble::as_tibble() %>%
    dplyr::filter(package %in% pkgs)
  pkgs <- purrr::map2_chr(si$package, si$loadedversion, ~ paste0("`", .x, "` (", .y, ")"))
  make_matrix(pkgs)
}
```

The following R packages are used to render the book, with [tidymodels](https://www.tidymodels.org/), [recipes](https://recipes.tidymodels.org/), [embed](https://embed.tidymodels.org/), [themis](https://themis.tidymodels.org/), [textrecipes](https://textrecipes.tidymodels.org/) and [timetk](https://business-science.github.io/timetk/) being the main packages.

```{r}
#| label: write-pkg-versions
#| echo: false
#| results: asis

knitr::kable(write_pkg_list())
```

The following Python libraries are used to render the book, with [scikit-learn](https://scikit-learn.org/) and [feature-engine](https://feature-engine.trainindata.com/en/latest/) being the main ones.

```{r}
#| label: write-poetry-versions
#| echo: false
#| results: asis
poetry_list <- system("poetry show", intern = TRUE)

poetry_list <- poetry_list |>
  stringr::str_replace_all("\\s+", " ") |>
  stringr::str_extract(".+? .+? ") |>
  stringr::str_remove(" $")

paste0("`", poetry_list, ")") |>
  stringr::str_replace(" ", "` (") |>
  sort() |>
  make_matrix(3) |>
  knitr::kable()
```

## Acknowledgements